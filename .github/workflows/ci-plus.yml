name: Run Python Script
true:
  schedule:
  - cron: '*/60 * * * *'
  workflow_dispatch: null
jobs:
  run-script:
    runs-on: ubuntu-latest
    steps:
    - continue-on-error: true
      name: Checkout code
      uses: actions/checkout@v3
    - continue-on-error: true
      name: List files in the repository root
      run: ls -la
    - continue-on-error: true
      name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: 3.x
    - continue-on-error: true
      name: Install dependencies
      run: 'python -m pip install --upgrade pip

        pip install -r ./requirements.txt  # 假设你的脚本需要 requests 库

        '
    - continue-on-error: true
      env:
        GITHUB_TOKEN: ${{ secrets.TOKEN }}
      name: Run the script
      run: 'echo "Running the script... ${GITHUB_TOKEN}"

        python github.py "$GITHUB_TOKEN"  # 传递环境变量作为命令行参数'
notifications:
  email:
    on_failure: never
    on_success: never
